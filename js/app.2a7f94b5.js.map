{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/components/LogoHex.vue?a57c","webpack:///./src/assets/resourses/map/grass.glb","webpack:///./src/assets/resourses/map/bushes.glb","webpack:///./src/assets/resourses/map/house.glb","webpack:///./src/assets/resourses/map/ground.glb","webpack:///./src/assets/resourses/map/school.glb","webpack:///./src/App.vue?f2a2","webpack:///./src/components/World.vue?7f05","webpack:///src/components/World.vue","webpack:///./src/components/World.vue?7b13","webpack:///./src/components/World.vue","webpack:///./src/components/StatePanel.vue?b7d2","webpack:///src/components/StatePanel.vue","webpack:///./src/components/StatePanel.vue?13ce","webpack:///./src/components/StatePanel.vue","webpack:///./src/components/Console.vue?a389","webpack:///src/components/Console.vue","webpack:///./src/components/Console.vue?ef16","webpack:///./src/components/Console.vue","webpack:///./src/components/Logo.vue?4f92","webpack:///./src/components/LogoHex.vue?70f2","webpack:///src/components/LogoHex.vue","webpack:///./src/components/LogoHex.vue?5eec","webpack:///./src/components/LogoHex.vue","webpack:///src/components/Logo.vue","webpack:///./src/components/Logo.vue?6a3c","webpack:///./src/components/Logo.vue","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue","webpack:///./src/engine/AngleUtils.js","webpack:///./src/engine/HexCell.js","webpack:///./src/store/map.js","webpack:///./src/engine/Renderer.js","webpack:///./src/store/engine.js","webpack:///./src/engine/Camera.js","webpack:///./src/store/camera.js","webpack:///./src/engine/Scene.js","webpack:///./src/engine/Light.js","webpack:///./src/store/scene.js","webpack:///./src/store/cameraControls.js","webpack:///./src/store/modalDialog.js","webpack:///./src/engine/ModelsLoader.js","webpack:///./src/engine/ModelsData.js","webpack:///./src/store/material.js","webpack:///./src/store/hero.js","webpack:///./src/store/file.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/resourses/map/market.glb","webpack:///./src/components/World.vue?934c","webpack:///./src/assets/resourses/hero.glb","webpack:///./src/assets/resourses/map/tile.glb","webpack:///./src/assets/resourses/map/stones.glb","webpack:///./src/assets/resourses/map/mid_stones.glb","webpack:///./src/components/Logo.vue?ed2f","webpack:///./src/assets/resourses/map/office.glb","webpack:///./src/assets/resourses/map/mountain.glb","webpack:///./src/assets/resourses/map/trees.glb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_e","staticRenderFns","ref","component","_v","_s","coords","moves","camera","directives","rawName","expression","staticStyle","domProps","on","$event","target","composing","log","type","indexOf","_k","keyCode","handle","arguments","command","moveLock","_m","rotateBack","rotate","progress","toFixed","THETA_0_DEGREES","THETA_60_DEGREES","Math","PI","THETA_120_DEGREES","THETA_180_DEGREES","THETA_240_DEGREES","THETA_300_DEGREES","THETA_ARRAY","getThetaByRotating","current","dir","index","abs","outer","inner","sqrt","createCell","model","theta","uniforms","Color","fShader","vShader","hexMaterial","ShaderMaterial","fragmentShader","vertexShader","side","DoubleSide","hexGeometry","CircleGeometry","mesh","Mesh","rotation","set","ringGeometry","RingGeometry","ringMaterial","MeshBasicMaterial","color","opacity","transparent","ringMesh","position","renderOrder","group","Group","add","clone","getGroup","getGroupId","uuid","getMesh","select","material","setHex","unselect","cell","delta","console","y","changeModel","nm","remove","state","mapSize","cells","cellByGroupIdMap","Map","selectedCell","mutations","addCell","payload","x","setMapSize","width","height","setSelectedCell","clearState","actions","buildMapAction","commit","getters","dispatch","Cell","getFromMapFile","k","z","matName","mat","getModelByName","obj","xx","round","yy","zz","buildMapFromJSONAction","json","destroyMapAction","Promise","resolve","rotateSelectedCellAction","changeTypeSelectedCellAction","cellsToJSON","store","flatMap","getCellByGroupId","id","createRenderer","domElement","renderer","WebGLRenderer","antialias","setSize","clientWidth","clientHeight","appendChild","getRenderer","getDomElenent","render","scene","setRaycastListener","callback","linkToMeshes","flat","map","addEventListener","event","pointer","Vector2","clientX","resolution","clientY","raycaster","Raycaster","setFromCamera","intersects","intersectObjects","parent","canvas","updatables","initRenderer","Renderer","setCanvas","setCanvasAction","initRendererAction","readyRendererAction","animate","forEach","requestAnimationFrame","heroMoveAction","hp","hero","diffs","coord","diff","tc","positionKF","VectorKeyframeTrack","moveBlinkClip","AnimationClip","mixer","AnimationMixer","action","clipAction","loop","LoopOnce","clampWhenFinished","play","clock","Clock","getDelta","update","clock2","clips","children","animations","mixer1","clip","cp","positionCKF","moveBlinkClipCamera","mixerCamera","actionCamera","clock3","isRunning","heroRotateAction","cos","sin","moveCameraClip","action2","lookAt","createCamera","PerspectiveCamera","createControls","element","OrbitControls","setCamera","Camera","initCameraAction","createScene","Scene","background","fog","Fog","createPointGridLight","light","PointLight","pointLightHelper","PointLightHelper","createDirectionalLight","HemisphereLight","setScene","addToScene","clearScene","clear","initSceneAction","Light","addToSceneAction","addToSceneLightAction","addHeroToSceneAction","clearSceneAction","cameraControls","setCameraControls","initCameraControlsAction","newMapDialogVisible","saveMapDialogVisible","saveMapDialogResolver","yesNoDialogVisible","yesNoDialogQuestion","yesNoDialogResolver","lastOpenDialog","setNewMapDialogVisible","setSaveMapDialogVisible","setSaveMapDialogState","setYesNoDialogState","question","clearSaveMapDialogState","clearYesNoDialogState","toggleNewMapDialogAction","closeNewMapDialogVisible","initSaveMapAction","saveMapDialogAction","closeSaveMapDialog","initYesNoDialog","yesNoDialogAction","openMapDialogAction","el","document","createElement","setAttribute","click","files","text","then","JSON","parse","load","link","progressCallback","loader","GLTFLoader","loadAsync","glb","scale","CELL_TYPE_GRASS","CELL_TYPE_STONE","CELL_TYPE_TILE","CELL_TYPE_GROUND","CELL_TYPE_MIDSTONE","CELL_TYPE_BUSHES","CELL_TYPE_MOUNTAIN","CELL_TYPE_TREES","CELL_TYPE_HOUSE","CELL_TYPE_OFFICE","CELL_TYPE_SCHOOL","CELL_TYPE_MARKET","MODEL_PATHS","require","HERO_TYPE_PATH","models","loaded","visible","setModel","setHero","setVisible","loadMaterials","MD","loaderVisible","loaderProgress","file","heroCoords","Vue","use","Vuex","Store","Engine","CameraControls","ModalDialog","Materials","Hero","File","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.2a7f94b5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoHex.vue?vue&type=style&index=0&id=f2403efe&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"d37b7734ed72d45fe229d7ae37cdf5a2.glb\";","module.exports = __webpack_public_path__ + \"2d45e147016046e0387662534bb962a7.glb\";","module.exports = __webpack_public_path__ + \"4a29f69fa04ed93c899ab42f6df28645.glb\";","module.exports = __webpack_public_path__ + \"2fa35e1a4327abd486da92c817722352.glb\";","module.exports = __webpack_public_path__ + \"b25dfdef9c2021e6d14b8ee550902220.glb\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-dark\",attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container-fluid vh-100\"},[_c('div',{staticClass:\"row vh-5 border border-primary\"},[_c('state-panel')],1),_c('div',{staticClass:\"row vh-70 border border-secondary \"},[_c('div',{staticClass:\"col-9 px-0\"},[_c('World')],1),_c('div',{staticClass:\"col-3 border border-warrning\"})]),_c('div',{staticClass:\"row vh-25 border border-info\"},[_c('div',{staticClass:\"col-1 h-100 border border-danger\"}),_c('div',{staticClass:\"col-8 px-0\"},[_c('Console')],1),_c('div',{staticClass:\"col-3 border border-warrning\"})])]),(_vm.loaderVisible)?_c('logo'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"hello\",staticClass:\"hello\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div ref=\"hello\" class=\"hello\"></div>\n</template>\n\n<script>\nexport default {\n\tname: 'World',\n\tmounted () {\n\t\tthis.$store.dispatch(\"setCanvasAction\", this.$refs.hello)\n\t}\n}\n</script>\n\n<style scoped>\n.hello {\n\theight: 100%;\n\twidth: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./World.vue?vue&type=template&id=72f8f4f7&scoped=true&\"\nimport script from \"./World.vue?vue&type=script&lang=js&\"\nexport * from \"./World.vue?vue&type=script&lang=js&\"\nimport style0 from \"./World.vue?vue&type=style&index=0&id=72f8f4f7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72f8f4f7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row align-items-center\"},[_c('div',{staticClass:\"col-3 text-white fs-3\"},[_vm._v(_vm._s(_vm.coords))]),_c('div',{staticClass:\"col-3 text-white fs-3\"},[_vm._v(\"M: \"+_vm._s(_vm.moves)+\"/32\")]),_c('div',{staticClass:\"col text-white\"},[_vm._v(_vm._s(_vm.camera))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"row align-items-center\">\n\t\t<div class=\"col-3 text-white fs-3\">{{coords}}</div>\n\t\t<div class=\"col-3 text-white fs-3\">M: {{moves}}/32</div>\n\t\t<div class=\"col text-white\">{{camera}}</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tcomputed: {\n\t\tcoords () {\n\t\t\tif (!this.$store.getters.hero) return 0;\n\t\t\tconst X = this.$store.getters.hero.coord.x;\n\t\t\tconst Y = this.$store.getters.hero.coord.y;\n\t\t\tconst Z = this.$store.getters.hero.coord.side;\n\n\t\t\treturn `X: ${X.toFixed(0)} Y: ${Y.toFixed(0)} Z: ${Z.toFixed()}`\n\t\t},\n\t\tmoves () {\n\t\t\treturn 0;\n\t\t},\n\t\tcamera () {\n\t\t\tif (!this.$store.getters.camera) return 0\n\t\t\tconst pos = this.$store.getters.camera.position;\n\t\t\tconst rot = this.$store.getters.camera.rotation;\n\t\t\treturn JSON.stringify({\n\t\t\t\tx: pos.x.toFixed(2),\n\t\t\t\ty: pos.y.toFixed(2),\n\t\t\t\tz: pos.z.toFixed(2),\n\t\t\t\txx: (rot.x/Math.PI * 180).toFixed(2),\n\t\t\t\tyy: (rot.y/Math.PI * 180).toFixed(2),\n\t\t\t\tzz: (rot.z/Math.PI * 180).toFixed(2),\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style>\n\t\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StatePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StatePanel.vue?vue&type=template&id=a51b685a&\"\nimport script from \"./StatePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./StatePanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row h-100 justify-content-bottom\"},[_c('div',{staticClass:\"col-12 h-75\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.log),expression:\"log\"}],ref:\"textarea\",staticClass:\"form-control h-100 text-warning bg-dark fs-4\",staticStyle:{\"overflow-y\":\"auto\"},attrs:{\"id\":\"exampleFormControlTextarea1\",\"readonly\":\"\",\"rows\":\"4\"},domProps:{\"value\":(_vm.log)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.log=$event.target.value}}})]),_c('div',{staticClass:\"col-12 d-flex pa-0\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.command),expression:\"command\"}],staticClass:\"form-control text-warning bg-dark fs-4\",attrs:{\"type\":\"text\",\"placeholder\":\"Type your command...\",\"aria-label\":\"Type command\"},domProps:{\"value\":(_vm.command)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handle.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.command=$event.target.value}}}),_c('button',{staticClass:\"btn btn-warning\",attrs:{\"type\":\"button\",\"disabled\":_vm.moveLock},on:{\"click\":_vm.handle}},[_vm._v(\"Enter\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"row h-100 justify-content-bottom\">\n\t\t<div class=\"col-12 h-75\">\n\t\t\t<textarea\n\t\t\t\tref=\"textarea\"\n\t\t\t\tstyle=\"overflow-y: auto;\"\n\t\t\t\tclass=\"form-control h-100 text-warning bg-dark fs-4\"\n\t\t\t\tid=\"exampleFormControlTextarea1\"\n\t\t\t\treadonly\n\t\t\t\tv-model=\"log\"\n\t\t\t\trows=\"4\"\n\t\t\t></textarea>\n\t\t</div>\n\t\t<div class=\"col-12 d-flex pa-0\">\n\t\t\t<input \n\t\t\t\tclass=\"form-control text-warning bg-dark fs-4\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tplaceholder=\"Type your command...\"\n\t\t\t\taria-label=\"Type command\"\n\t\t\t\tv-model=\"command\"\n\t\t\t\t@keyup.enter=\"handle\"\n\t\t\t>\n\t\t\t<button \n\t\t\t\tclass=\"btn btn-warning\"\n\t\t\t\ttype=\"button\"\n\t\t\t\t:disabled=\"moveLock\"\n\t\t\t\t@click=\"handle\"\n\t\t\t>Enter</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n\tdata: () => {\n\t\treturn {\n\t\t\tcommand: '',\n\t\t\tlog: '',\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tmoveLock () {\n\t\t\treturn false;\n\t\t}\n\t},\n\n\tmethods: {\n\t\thandle () {\n\t\t\tif (this.moveLock) return;\n\t\t\tswitch (this.command) {\n\t\t\t\tcase 'left()': this.handleLeft(); break;\n\t\t\t\tcase 'right()': this.handleRight(); break;\n\t\t\t\tcase 'goto w': this.handleUp(); break;\n\t\t\t\tcase 'down()': this.handleDown(); break;\n\t\t\t\tcase 'rotate left': this.handleRotate(1); break;\n\t\t\t\tcase 'rotate right': this.handleRotate(-1); break;\n\t\t\t\tdefault: this.handleError(this.command) \n\t\t\t}\n\t\t\tthis.command = '';\n\t\t},\n\n\t\thandleLeft() {\n\t\t\tthis.$store.dispatch('moveLeft');\n\t\t\tthis.addTextToLog('left()');\n\t\t},\n\t\thandleRight () {\n\t\t\tthis.$store.dispatch('moveRight');\n\t\t\tthis.addTextToLog('right()');\n\t\t},\n\t\thandleDown () {\n\t\t\tthis.$store.dispatch('moveDown');\n\t\t\tthis.addTextToLog('down()');\n\t\t},\n\t\thandleUp () {\n\t\t\t//this.$store.dispatch('moveUp');\n\t\t\t//this.addTextToLog('up()');\n\t\t\tthis.$store.dispatch('heroMoveAction')\n\n\t\t\tthis.addTextToLog('goto w');\n\n\t\t},\n\t\thandleRotate (dir) {\n\t\t\t//this.$store.dispatch('moveUp');\n\t\t\t//this.addTextToLog('up()');\n\t\t\tthis.$store.dispatch('heroRotateAction', dir)\n\n\t\t\tthis.addTextToLog(`rotate ${dir==1?'left':'right'}`);\n\n\t\t},\n\t\thandleError (command) {\n\t\t\tthis.addTextToLog('Команда '+ command + ' не существует')\n\t\t},\n\n\t\taddTextToLog(text) {\n\t\t\tthis.log += '\\t > ' + text + '\\n';\n\t\t\tconst textarea = this.$refs.textarea;\n\t\t\tif(textarea.selectionStart == textarea.selectionEnd) {\n\t\t\t\ttextarea.scrollTop = textarea.scrollHeight;\n\t\t\t}\n\t\t},\n\t}\n}\n</script>\n\n<style>\n\t\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Console.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Console.vue?vue&type=template&id=4037acae&\"\nimport script from \"./Console.vue?vue&type=script&lang=js&\"\nexport * from \"./Console.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overlay-container d-flex flex-column justify-content-center align-items-center\"},[_vm._m(0),_c('logo-hex')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"J\")]),_vm._v(\"PLANET\")])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:sodipodi\":\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\",\"xmlns:inkscape\":\"http://www.inkscape.org/namespaces/inkscape\",\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"width\":\"250\"}},[_c('path',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ff4a2a\",\"fill-opacity\":\"1\",\"stroke\":\"#000000\",\"stroke-width\":\"0.1\",\"stroke-opacity\":\"1\"},attrs:{\"id\":\"path817\",\"d\":\"M \\n\\t\\t\\t22.35,31.5\\n\\t\\t\\t22.35,56.5\\n\\t\\t\\t44,69\\n\\t\\t\\t65.65,56.5\\n\\t\\t\\t65.65,31.5\\n\\t\\t\\t44,19 Z\",\"transform\":_vm.rotateBack}}),_c('path',{staticStyle:{\"opacity\":\"1\",\"fill\":\"#ff0000\",\"fill-opacity\":\"1\",\"stroke\":\"#000000\",\"stroke-width\":\"0.1\",\"stroke-opacity\":\"1\"},attrs:{\"id\":\"path817\",\"d\":\"M \\n\\t\\t\\t22.35,31.5\\n\\t\\t\\t22.35,56.5\\n\\t\\t\\t44,69\\n\\t\\t\\t65.65,56.5\\n\\t\\t\\t65.65,31.5\\n\\t\\t\\t44,19 Z\",\"transform\":_vm.rotate}}),_c('text',{attrs:{\"x\":\"35\",\"y\":\"48\"}},[_vm._v(_vm._s(_vm.progress.toFixed()+'%'))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\n\t\txmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\n\t\tviewBox=\"0 0 100 100\"\n\t\tversion=\"1.1\"\n\t\twidth=\"250\"\n\t>\n\n\t\t<path\n\t\t\tstyle=\"opacity:1;fill:#ff4a2a;fill-opacity:1;stroke:#000000;stroke-width:0.1;stroke-opacity:1\"\n\t\t\tid=\"path817\"\n\t\t\td=\"M \n\t\t\t22.35,31.5\n\t\t\t22.35,56.5\n\t\t\t44,69\n\t\t\t65.65,56.5\n\t\t\t65.65,31.5\n\t\t\t44,19 Z\"\n\t\t\t:transform='rotateBack'\n\t\t/>\n\t\t<path\n\t\t\tstyle=\"opacity:1;fill:#ff0000;fill-opacity:1;stroke:#000000;stroke-width:0.1;stroke-opacity:1\"\n\t\t\tid=\"path817\"\n\t\t\td=\"M \n\t\t\t22.35,31.5\n\t\t\t22.35,56.5\n\t\t\t44,69\n\t\t\t65.65,56.5\n\t\t\t65.65,31.5\n\t\t\t44,19 Z\"\n\t\t\t:transform='rotate'\n\t\t/>\n\t\t<text \n\t\t\tx=\"35\"\n\t\t\ty=\"48\"\n\t\t>{{progress.toFixed()+'%'}}</text>\n\n\n</svg>\n</template>\n\n<script>\nexport default {\n\t/* \n\t0.35,12.5\n\t\t 0.35,37.5\n\t\t 22,50\n\t\t 43.65,37.5\n\t\t 43.65,12.5\n\t\t 22,0\n\n\t*/\n\n\tdata: () => {\n\t\treturn {\n\t\t\tangle: 45,\n\t\t\tangleBack: 0,\n\t\t}\n\t},\n\tcomputed: {\n\t\trotate () {\n\t\t\treturn `rotate(${this.angle} 44 44)`;\n\t\t},\n\t\trotateBack () {\n\t\t\treturn `rotate(${this.angleBack} 44 44)`;\n\t\t},\n\t\tprogress () {\n\t\t\treturn this.$store.getters.loaderProgress\n\t\t}\n\t},\n\tmounted () {\n\t\tsetInterval(()=> {\n\t\t\tthis.angle = (this.angle + 4) % 360;\n\t\t\tthis.angleBack = (this.angleBack - 7) % 360;\n\t\t}, 25);\n\t}\n\n}\n</script>\n\n<style scoped>\n\ttext {\n\t\tfont-size: 14px;\n\t\tfill: white;\n\t}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoHex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogoHex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogoHex.vue?vue&type=template&id=f2403efe&scoped=true&\"\nimport script from \"./LogoHex.vue?vue&type=script&lang=js&\"\nexport * from \"./LogoHex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogoHex.vue?vue&type=style&index=0&id=f2403efe&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2403efe\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"overlay-container d-flex flex-column justify-content-center align-items-center\">\n\t\t<p><span style=\"color:red\">J</span>PLANET</p>\n\t\t<logo-hex/>\n\t</div>\n</template>\n\n<script>\nimport LogoHex from \"./LogoHex.vue\"\nexport default {\n\tcomponents: {\n\t\tLogoHex\n\t}\n}\n</script>\n\n<style scoped>\n.overlay-container {\n\tposition: absolute;\n\tbackground-color: white;\n\ttop: 0;\n\tleft: 0;\n\theight: 100vh;\n\twidth: 100vw;\n\tfont-size: 25vh;\n\tfont-weight: 800;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=06aeb5f4&scoped=true&\"\nimport script from \"./Logo.vue?vue&type=script&lang=js&\"\nexport * from \"./Logo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=06aeb5f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06aeb5f4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div id=\"app\" class=\"bg-dark\">\n\t\t<div class=\"container-fluid vh-100\">\n\t\t\t<div class=\"row vh-5 border border-primary\">\n\t\t\t\t<state-panel></state-panel>\n\t\t\t</div>\n\t\t\t<div class=\"row vh-70 border border-secondary \">\n\t\t\t\t<div class=\"col-9 px-0\">\n\t\t\t\t\t<World/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-3 border border-warrning\">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"row vh-25 border border-info\">\n\t\t\t\t<div class=\"col-1 h-100 border border-danger\">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-8 px-0\">\n\t\t\t\t\t<Console/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-3 border border-warrning\">\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<logo v-if=\"loaderVisible\"></logo>\n\t</div>\n</template>\n\n<script>\nimport World from './components/World.vue'\nimport StatePanel from './components/StatePanel.vue'\nimport Console from './components/Console.vue'\nimport Logo from './components/Logo.vue'\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tWorld,\n\t\tStatePanel,\n\t\tConsole,\n\t\tLogo\n\t},\n\tcomputed: {\n\t\tloaderVisible () {\n\t\t\treturn this.$store.getters.loaderVisible\n\t\t}\n\t},\n\tmounted () {\n\t\tthis.$store.dispatch('loadMaterials')\n\t}\n}\n</script>\n\n<style>\n#app {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n}\n\n.vh-5 {\n\theight: 5vh !important;\n}\n\n.vh-15 {\n\theight: 15vh !important;\n}\n\n.vh-25 {\n\theight: 25vh !important;\n}\n\n\n.vh-70 {\n\theight: 70vh !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=cf4ea156&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const ROTATE_LEFT = -1;\nconst ROTATE_RIGHT = 1;\n\nconst THETA_0_DEGREES = 0;\nconst THETA_60_DEGREES = Math.PI/3;\nconst THETA_120_DEGREES = 2*Math.PI/3;\nconst THETA_180_DEGREES = Math.PI;\nconst THETA_240_DEGREES = 4*Math.PI/3;\nconst THETA_300_DEGREES = 5*Math.PI/3;\n\nconst THETA_CONST = {\n\tTHETA_0_DEGREES,\n\tTHETA_60_DEGREES,\n\tTHETA_120_DEGREES,\n\tTHETA_180_DEGREES,\n\tTHETA_240_DEGREES,\n\tTHETA_300_DEGREES,\n};\n\nconst THETA_ARRAY = [\n\tTHETA_0_DEGREES,\n\tTHETA_60_DEGREES,\n\tTHETA_120_DEGREES,\n\tTHETA_180_DEGREES,\n\tTHETA_240_DEGREES,\n\tTHETA_300_DEGREES\n]\n\nfunction getThetaByRotating (current, dir) {\n\tlet index = 0;\n\tfor (let i = 0; i < THETA_ARRAY.length; i++) {\n\t\tif (Math.abs(THETA_ARRAY[i] - current) < 0.001) index = i;\n\t}\n\tif ((index + dir) > 5 ) index = 0;\n\telse if ((index + dir) < 0) index = 5;\n\telse index = index + dir;\n\treturn THETA_ARRAY[index];\n}\n\n\nfunction getRandomTheta () {\n\treturn THETA_ARRAY[Math.round(Math.random()*5)]\n}\n\nexport {\n\tROTATE_LEFT,\n\tROTATE_RIGHT,\n\tTHETA_CONST,\n\tTHETA_ARRAY,\n\tgetThetaByRotating,\n\tgetRandomTheta\n}","import {Color, ShaderMaterial, DoubleSide, CircleGeometry, Mesh, RingGeometry, MeshBasicMaterial, Group} from 'three';\nimport {getThetaByRotating} from './AngleUtils.js'\n\nconst outer = 10.0;\nconst inner = outer * Math.sqrt(3)/2;\n\nfunction createCell (model, theta) {\n\n\t\tvar uniforms = {\n\t\t\t\"color1\" : {\n\t\t\t\ttype : \"c\",\n\t\t\t\tvalue : new Color(0x805b3e)\n\t\t\t},\n\t\t\t\"color2\" : {\n\t\t\t\ttype : \"c\",\n\t\t\t\tvalue : new Color(0x7c593d)\n\t\t\t},\n\t\t};\n\t\t\n\t\tvar fShader = `\n\t\t\t#include <common>\n\n\t\t\tuniform vec3 iResolution;\n\t\t\tuniform float iTime;\n\t\t\tuniform vec3 color1;\n\t\t\tuniform vec3 color2;\n\t\t\tvarying vec2 vUv;\n\t\t\tfloat random (vec2 st) {\n\t\t\t\treturn fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n\t\t\t}\n\n\t\t\tvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\t\t\t\t\n\t\t\t\t//vec3 cl = mix(color2, color1, sqrt((vUv.y*vUv.y)+(vUv.x*vUv.x))/75.0);\n\t\t\t\tvec3 cl = mix(color2, color1, vUv.x);\n\t\t\t\tvec3 res = vec3(cl.x+sin(random(vUv))*0.2, cl.y+sin(random(vUv))*0.2, cl.z+cos(random(vUv))*0.2);\n\t\t\t\tfragColor = vec4(res, 1.0);\n\t\t\t}\n\t\t\tvoid main() {\n\t\t\t\tmainImage(gl_FragColor, gl_FragCoord.xy);\n\t\t\t}\n\t\t`;\n\t\tvar vShader = `\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n\t\t\t}\n\t\t`;\n\n\t\t// Create material\n\t\tvar hexMaterial = new ShaderMaterial({\n\t\t\tuniforms: uniforms,\n\t\t\tfragmentShader: fShader,\n\t\t\tvertexShader: vShader,\n\t\t\tside: DoubleSide\n\t\t});\n\t\tconst hexGeometry = new CircleGeometry( 10, 6, Math.PI/6);\n\t\tconst mesh = new Mesh(hexGeometry, hexMaterial);\n\t\tmesh.rotation.set(Math.PI/2,0,0);\n\n\t\tconst ringGeometry = new RingGeometry( 10, 9.9, 6, 1, Math.PI/6);\n\t\tconst ringMaterial = new MeshBasicMaterial( { color: 0xe69100, side: DoubleSide, opacity:0.25, transparent:true } );\n\t\tconst ringMesh = new Mesh( ringGeometry, ringMaterial );\n\t\tringMesh.rotation.set(Math.PI/2,0,0);\n\t\tringMesh.position.set(0,0.1,0)\n\t\tringMesh.renderOrder = 200\n\n\t\tconst group = new Group();\n\t\tgroup.add(mesh);\n\t\tgroup.add(ringMesh);\n\n\t\tlet m = model.clone();\n\t\tgroup.add(m);\n\t\tm.rotation.set(0,theta,0)\n\n\n\t\treturn {\n\t\t\tgetGroup: () => {\n\t\t\t\treturn group\n\t\t\t},\n\t\t\tgetGroupId: () => {\n\t\t\t\treturn group.uuid\n\t\t\t},\n\t\t\tgetMesh: () => {\n\t\t\t\treturn mesh\n\t\t\t},\n\t\t\tselect: () => {\n\t\t\t\tringMesh.material.color.setHex( 0xff0000 );\n\t\t\t\tringMesh.material.transparent = false\n\t\t\t},\n\t\t\tunselect: () => {\n\t\t\t\tringMesh.material.color.setHex( 0xe69100 );\n\t\t\t\tringMesh.material.transparent = true\n\t\t\t},\n\t\t\trotate: (cell, delta) => {\n\t\t\t\tconsole.log(getThetaByRotating(m.rotation.y, delta))\n\t\t\t\tm.rotation.set(0, getThetaByRotating(m.rotation.y, delta),0)\n\t\t\t\t//if (m.rotation.y + delta > 2*Math.PI) m.rotation.set(0, m.rotation.y + delta - 2*Math.PI,0)\n\t\t\t\t//else if (m.rotation.y + delta < 0) m.rotation.set(0, m.rotation.y + delta + 2*Math.PI, 0)\n\t\t\t\t//else \n\t\t\t\tcell.theta = m.rotation.y;\n\t\t\t},\n\t\t\tchangeModel: (model) => {\n\t\t\t\tconst nm = model.clone();\n\t\t\t\tnm.rotation.set(0,m.rotation.y,0);\n\t\t\t\tgroup.remove(m);\n\t\t\t\tgroup.add(nm);\n\t\t\t\tm = nm;\n\t\t\t}\n\t\t}\n}\n\nexport {\n\touter,\n\tinner,\n\tcreateCell\n}","import * as Cell from '@/engine/HexCell.js';\n\nexport default {\n\tstate: () => ({\n\t\tmapSize: {},\n\t\tcells: [],\n\t\tcellByGroupIdMap: new Map(),\n\t\tselectedCell: null,\n\t}),\n\tmutations: {\n\t\taddCell(state, payload) {\n\t\t\tconst x = payload.x;\n\t\t\tconst y = payload.y; \n\t\t\tif (!state.cells[x]) state.cells[x] = [];\n\t\t\tstate.cells[x][y] = payload;\n\t\t\tstate.cellByGroupIdMap.set(payload.getGroupId(), payload);\n\t\t},\n\t\tsetMapSize(state, payload) {\n\t\t\tstate.mapSize = {\n\t\t\t\twidth:  +payload.width,\n\t\t\t\theight: +payload.height\n\t\t\t}\n\n\t\t},\n\t\tsetSelectedCell(state, payload) {\n\t\t\tstate.selectedCell = payload;\n\t\t},\n\t\tclearState(state){\n\t\t\tstate.cells = [];\n\t\t\tstate.mapSize = {};\n\t\t\tstate.cellByGroupIdMap = new Map();\n\t\t\tstate.selectedCell = null;\n\t\t}\n\t},\n\tactions: {\n\t\tbuildMapAction({commit, getters, dispatch}) {\n\t\t\tconst outer = Cell.outer; // получаем радиусы шестиугольника \n\t\t\tconst inner = Cell.inner; \n\n\t\t\tconst {width, height} = getters.getFromMapFile('mapSize');\n\t\t\tconst cells = getters.getFromMapFile('cells');\n\n\t\t\tfor (let k = 0; k < cells.length; k++) {\n\n\t\t\t\tconst z = cells[k].x;\n\t\t\t\tconst i = cells[k].y;\n\t\t\t\tconst matName = cells[k].type;\n\t\t\t\tconst mat = getters.getModelByName(matName);\n\t\t\t\tconst theta = cells[k].theta;\n\t\t\t\tconst obj = Cell.createCell(mat, theta);\n\t\t\t\tdispatch('addToSceneAction', obj.getGroup());\n\n\t\t\t\tobj.x = z;\n\t\t\t\tobj.y = i;\n\t\t\t\tobj.theta = theta;\n\t\t\t\tobj.type = matName;\n\t\t\t\tconst xx = (i+z*0.5 - Math.round(z/2))*2*inner;\n\t\t\t\tconst yy = 0;\n\t\t\t\tconst zz =  z*1.5*outer;\n\t\t\t\tobj.position = {\n\t\t\t\t\tx: xx,\n\t\t\t\t\ty: yy,\n\t\t\t\t\tz: zz\n\t\t\t\t}\n\t\t\t\tobj.getGroup().position.set(xx,yy,zz);\n\t\t\t\tcommit('addCell', obj);\n\t\t\t}\n\n\t\t\tcommit('setMapSize', {width,height});\n\t\t\tdispatch('readyRendererAction')\n\t\t},\n\t\tbuildMapFromJSONAction({commit, getters, dispatch}, json) {\n\t\t\tconst outer = Cell.outer; // получаем радиусы шестиугольника \n\t\t\tconst inner = Cell.inner; \n\n\t\t\tconsole.log(json);\n\n\t\t\tconst {width, height} = json.mapSize;\n\t\t\tconst cells = json.cells\n\n\n\t\t\tfor (let k = 0; k < cells.length; k++) {\n\n\t\t\t\tconst z = cells[k].x;\n\t\t\t\tconst i = cells[k].y;\n\t\t\t\tconst matName = cells[k].type;\n\t\t\t\tconst mat = getters.getModelByName(matName);\n\t\t\t\tconst theta = cells[k].theta;\n\t\t\t\tconst obj = Cell.createCell(mat, theta);\n\t\t\t\tdispatch('addToSceneAction', obj.getGroup());\n\n\t\t\t\tobj.x = z;\n\t\t\t\tobj.y = i;\n\t\t\t\tobj.theta = theta;\n\t\t\t\tobj.type = matName;\n\t\t\t\tcommit('addCell', obj);\n\t\t\t\tobj.getGroup().position.set((i+z*0.5 - Math.round(z/2))*2*inner, 0, z*1.5*outer)\n\n\t\t\t}\n\t\t\tcommit('setMapSize', {width,height});\n\t\t\tdispatch('readyRendererAction')\n\t\t},\n\t\tdestroyMapAction({commit}){\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tcommit('clearState');\n\t\t\t\tresolve();\n\t\t\t})\n\t\t},\n\t\trotateSelectedCellAction({getters}, payload) {\n\t\t\tgetters.selectedCell.rotate(getters.selectedCell,payload)\n\t\t},\n\t\tchangeTypeSelectedCellAction ({getters}, payload) {\n\t\t\tgetters.selectedCell.changeModel(getters.getModelByName(payload));\n\t\t\tgetters.selectedCell.type = payload;\n\t\t}\n\t},\n\tgetters: {\n\t\tcellsToJSON(store){\n\t\t\treturn store.cells.flatMap(x=>x)\n\t\t},\n\t\tmapSize(store) {\n\t\t\treturn store.mapSize\n\t\t},\n\t\tcells(store) {\n\t\t\treturn store.cells;\n\t\t},\n\t\tgetCellByGroupId (store) {\n\t\t\treturn (id) => {\n\t\t\t\treturn store.cellByGroupIdMap.get(id)\n\t\t\t}\n\t\t},\n\t\tselectedCell (store) {\n\t\t\treturn store.selectedCell\n\t\t}\n\t}\n}","import {WebGLRenderer, Vector2, Raycaster} from 'three';\n\nexport default {\n\tcreateRenderer(domElement) {\n\t\tconst renderer = new WebGLRenderer({ antialias: true });\n\t\trenderer.setSize( domElement.clientWidth, domElement.clientHeight );\n\t\tdomElement.appendChild( renderer.domElement );\n\n\t\treturn {\n\t\t\tgetRenderer: () => {\n\t\t\t\treturn renderer\n\t\t\t},\n\t\t\tgetDomElenent: () => {\n\t\t\t\treturn renderer.domElement\n\t\t\t},\n\t\t\trender: (scene, camera) => {\n\t\t\t\trenderer.render(scene, camera);\n\t\t\t},\n\t\t\tsetRaycastListener: (getters, callback) => {\n\t\t\t\tconst linkToMeshes = getters.cells.flat().map(cell => cell.getMesh())\n\t\t\t\trenderer.domElement.addEventListener('click', (event) => {\n\t\t\t\t\tconst pointer = new Vector2();\n\t\t\t\t\tpointer.x = ( event.clientX / getters.resolution.width ) * 2 - 1;\n\t\t\t\t\tpointer.y = - ( (event.clientY-64) / getters.resolution.height ) * 2 + 1;\n\t\t\t\t\tconst raycaster = new Raycaster();\n\t\t\t\t\traycaster.setFromCamera( pointer, getters.camera );\n\t\t\t\t\tconst intersects = raycaster.intersectObjects( linkToMeshes, false );\n\t\t\t\t\tconsole.log(intersects)\n\t\t\t\t\tif (intersects.length > 0) \n\t\t\t\t\t\tcallback(getters.getCellByGroupId(intersects[0].object.parent.uuid))\n\t\t\t\t\telse callback();\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}","import Renderer from '@/engine/Renderer.js'\nimport {LoopOnce, AnimationMixer, Clock, VectorKeyframeTrack, AnimationClip, /*, AnimationClip*/} from 'three';\n\n\nexport default {\n\tstate: () => ({\n\t\tcanvas: null,\n\t\tresolution: {},\n\t\trenderer: null,\n\t\tupdatables: [],\n\t}),\n\tmutations: {\n\t\tinitRenderer(state) {\n\t\t\tstate.resolution.height = state.canvas.clientHeight;\n\t\t\tstate.resolution.width = state.canvas.clientWidth;\n\t\t\tstate.renderer = Renderer.createRenderer(state.canvas);\n\t\t},\n\t\tsetCanvas(state, payload) {\n\t\t\tstate.canvas = payload;\n\t\t}\n\t},\n\tactions: {\n\t\tsetCanvasAction ({commit}, payload) {\n\t\t\tcommit(\"setCanvas\", payload)\n\t\t},\n\t\tinitRendererAction( {commit, dispatch}) {\n\t\t\tcommit('initRenderer')\n\t\t\tdispatch('initCameraAction');\n\t\t},\n\t\treadyRendererAction ({getters, commit}) {\n\n\t\t\tgetters.renderer.setRaycastListener(getters, (intersects) => {\n\t\t\t\tif (intersects) {\n\t\t\t\t\tif ( getters.selectedCell != intersects ) { \n\t\t\t\t\t\tif ( getters.selectedCell ) getters.selectedCell.unselect();\n\t\t\t\t\t\tintersects.select();\n\t\t\t\t\t\tcommit('setSelectedCell', intersects);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif ( getters.selectedCell ) getters.selectedCell.unselect();\n\t\t\t\t\tcommit('setSelectedCell', null);\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\tlet animate = () => {\n\t\t\t\tgetters.updatables.forEach(call => call());\n\t\t\t\trequestAnimationFrame( animate );\n\t\t\t\tgetters.renderer.render( getters.scene, getters.camera );\n\t\t\t}\n\n\t\t\tanimate();\n\n\t\t\tgetters.camera.position.set(36, 15, 32)\n\t\t\t//getters.cameraControls.target.set(getters.hero.position.x,getters.hero.position.y, getters.hero.position.z )\n\t\t\tgetters.camera.rotation.set(-148/180*Math.PI, -24/180*Math.PI, -165/180*Math.PI)\n\t\t\t//getters.cameraControls.update();\n\t\t\tconsole.log(getters.camera)\n\n\t\t},\n\n\t\theroMoveAction({getters}){\n\t\t\t// позиции\n\t\t\tconst hp = getters.hero.position;\n\n\t\t\tconst diffs = (getters.hero.coord.x%2 != 0) ?\n\t\t\t[\n\t\t\t\t{x:0,z:1}, // side == 0\n\t\t\t\t{x:1,z:0}, // side == 1\n\t\t\t\t{x:1,z:1}, // side == 2\n\t\t\t\t{x:0,z:-1}, // side == 3\n\t\t\t\t{x:-1,z:-1}, // side == 4\n\t\t\t\t{x:-1,z:0}, // side == 5\n\t\t\t] : [\n\t\t\t\t{x:0,z:1}, // side == 0\n\t\t\t\t{x:1,z:1}, // side == 1\n\t\t\t\t{x:1,z:0}, // side == 2\n\t\t\t\t{x:0,z:-1}, // side == 3\n\t\t\t\t{x:-1,z:0}, // side == 4\n\t\t\t\t{x:-1,z:1}, // side == 5\n\t\t\t]\n\n\n\t\t\t;\n\t\t\tconst diff = diffs[getters.hero.coord.side];\n\n\t\t\tconsole.log(\"before\", diff, getters.hero.coord);\n\n\t\t\tconst tc = getters.cells[getters.hero.coord.x+diff.x][getters.hero.coord.y+diff.z].position;\n\t\t\tconst positionKF = new VectorKeyframeTrack('.position',\n\t\t\t[0, 5],\n\t\t\t[hp.x,hp.y,hp.z,tc.x, tc.y, tc.z],);\n\n\t\t\t// создаем анимацию для перремещения сцены\n\t\t\tconst moveBlinkClip = new AnimationClip('move-n-blink', 5, [positionKF]);\n\t\t\tconst mixer = new AnimationMixer(getters.hero);\n\t\t\tconst action = mixer.clipAction(moveBlinkClip);\n\t\t\taction.loop = LoopOnce;\n\t\t\taction.clampWhenFinished = true;\n\t\t\taction.play();\n\t\t\tconst clock = new Clock();\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tconst delta = clock.getDelta();\n\t\t\t\tmixer.update( delta );\n\t\t\t});\n\n\t\t\t// создаем анимацию для анимации героя\n\t\t\tconst clock2 = new Clock();\n\t\t\tconst clips = getters.hero.children[0].animations;\n\t\t\tconst mixer1 = new AnimationMixer( getters.hero.children[0] );\n\t\t\tclips.forEach( function ( clip ) {\n\t\t\t\tmixer1.clipAction( clip ).play();\n\t\t\t} );\n\n\t\t\tgetters.updatables.push(()=>{\n\t\t\t\tconst delta = clock2.getDelta();\n\t\t\t\tmixer1.update( delta );\n\t\t\t})\n\n\t\t\t// создаем анимацию для камеры\n\t\t\tconst cp = getters.camera.position\n\t\t\tconst positionCKF = new VectorKeyframeTrack('.position',\n\t\t\t[0, 5],\n\t\t\t[cp.x, cp.y, cp.z,cp.x+(tc.x-hp.x),cp.y,cp.z+(tc.z-hp.z)]);\n\t\t\tconst moveBlinkClipCamera = new AnimationClip('move-camera', 5, [positionCKF]);\n\t\t\tconst mixerCamera = new AnimationMixer(getters.camera);\n\t\t\tconst actionCamera = mixerCamera.clipAction(moveBlinkClipCamera);\n\t\t\tactionCamera.loop = LoopOnce;\n\t\t\tactionCamera.clampWhenFinished = true;\n\t\t\tactionCamera.play();\n\t\t\tconst clock3 = new Clock();\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tconst delta = clock3.getDelta();\n\t\t\t\tmixerCamera.update( delta );\n\t\t\t});\n\n\t\t\t// проверка на отключение анимации\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tif (!action.isRunning()) {\n\t\t\t\t\tgetters.updatables.splice(0);\n\t\t\t\t\t// здесь должна быть операция приведения героя в исходное положение\n\t\t\t\t\t// и вызов события \"движение окончено\"\n\t\t\t\t\tgetters.hero.coord.x += diff.x;\n\t\t\t\t\tgetters.hero.coord.y += diff.z;\n\t\t\t\t\tconsole.log(\"after\", getters.hero.coord);\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\theroRotateAction({getters}, dir) {\n\t\t\tconst rotation = getters.hero.rotation;\n\t\t\tconst positionKF = new VectorKeyframeTrack('.rotation[y]',\n\t\t\t[0, 2],\n\t\t\t[rotation.y, rotation.y+dir*Math.PI/3]);\n\n\t\t\tgetters.hero.coord.side -= dir;\n\t\t\tif (getters.hero.coord.side == 6 ) getters.hero.coord.side = 0;\n\t\t\tif (getters.hero.coord.side == -1 ) getters.hero.coord.side = 5;\n\n\t\t\t// создаем анимацию для перремещения сцены\n\t\t\tconst moveBlinkClip = new AnimationClip('rotation-hero', 2, [positionKF]);\n\t\t\tconst mixer = new AnimationMixer(getters.hero);\n\t\t\tconst action = mixer.clipAction(moveBlinkClip);\n\t\t\taction.loop = LoopOnce;\n\t\t\taction.clampWhenFinished = true;\n\t\t\taction.play();\n\t\t\tconst clock = new Clock();\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tconst delta = clock.getDelta();\n\t\t\t\tmixer.update( delta );\n\t\t\t});\n\n\t\t\t// создаем анимацию движени камеры\n\t\t\tconst hp = getters.hero.position; // O\n\t\t\tconst cp = getters.camera.position; // A\n\t\t\tconst xx = (cp.x-hp.x)*Math.cos(dir*Math.PI/3) + (cp.z-hp.z)*Math.sin(dir*Math.PI/3)+hp.x;\n\t\t\tconst zz = -(cp.x-hp.x)*Math.sin(dir*Math.PI/3) + (cp.z-hp.z)*Math.cos(dir*Math.PI/3)+hp.z;\n\t\t\tconst positionCKF = new VectorKeyframeTrack('.position',\n\t\t\t[0, 2],\n\t\t\t[cp.x, cp.y, cp.z,xx, cp.y, zz]);\n\t\t\tconst moveCameraClip = new AnimationClip('move-camera', 2, [positionCKF]);\n\t\t\tconst mixerCamera = new AnimationMixer(getters.camera);\n\t\t\tconst action2 = mixerCamera.clipAction(moveCameraClip);\n\t\t\taction2.loop = LoopOnce;\n\t\t\taction2.clampWhenFinished = true;\n\t\t\taction2.play();\n\t\t\tconst clock2 = new Clock();\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tconst delta = clock2.getDelta();\n\t\t\t\tmixerCamera.update( delta );\n\t\t\t\tgetters.camera.lookAt(hp.x, 7, hp.z);\n\t\t\t});\n\n\t\t\tif (!action.isRunning()) {\n\t\t\t\t\tgetters.updatables.splice(0);\n\t\t\t\t}\n\n\t\t\tgetters.updatables.push(() => {\n\t\t\t\tif (!action.isRunning() && !action2.isRunning()) {\n\t\t\t\t\tgetters.updatables.splice(0);\n\t\t\t\t\tgetters.camera.lookAt(hp.x, 7, hp.z);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t},\n\tgetters: {\n\t\tresolution (store) {\n\t\t\treturn store.resolution\n\t\t},\n\t\trenderer (store) {\n\t\t\treturn store.renderer\n\t\t},\n\t\tupdatables (store) {\n\t\t\treturn store.updatables\n\t\t}\n\t}\n}","import {PerspectiveCamera} from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\n\nexport default {\n\tcreateCamera ({width, height}) {\n\t\tconst camera = new PerspectiveCamera( 45, width / height, 1, 4000 );\n\t\tcamera.position.set( 90,90,150);\n\t\tcamera.rotation.set(Math.PI/2,0,Math.PI);\n\t\treturn camera;\n\t},\n\tcreateControls(camera, element) {\n\t\treturn new OrbitControls(camera, element);\n\t}\n}","import Camera from '@/engine/Camera.js'\n\nexport default {\n\tstate: () => ({\n\t\tcamera: null,\n\t}),\n\tmutations: {\n\t\tsetCamera(state, payload) {\n\t\t\tstate.camera = Camera.createCamera(payload);\n\t\t}\n\t},\n\tactions: {\n\t\tinitCameraAction({commit, getters, dispatch}) {\n\t\t\tcommit('setCamera', getters.resolution);\n\t\t\tdispatch('initCameraControlsAction');\n\t\t}\n\t},\n\tgetters: {\n\t\tcamera (store) {\n\t\t\treturn store.camera\n\t\t},\n\t}\n}","import {Scene, Color, Fog} from 'three'\n\nexport default {\n\tcreateScene () {\n\t\tconst scene = new Scene();\n\t\tscene.background = new Color( 0x000000 );\n\t\tscene.fog = new Fog( 0xffffff, 1000, 7500 );\n\t\treturn scene;\n\t}\n}","import {Group,PointLight,/*DirectionalLight,*/ PointLightHelper, HemisphereLight} from 'three'\n\nexport default {\n\tcreatePointGridLight () {\n\t\tconst group = new Group();\n\n\t\tfor (let i = 0; i < 6; i++) {\n\t\t\tfor (let j = 0; j < 4; j++) {\n\n\t\t\t\tconst light = new PointLight( 0x404040, 0.75 );\n\t\t\t\tconst pointLightHelper = new PointLightHelper( light, 5 );\n\t\t\t\tpointLightHelper.position.set(50*i, 60, 70*j);\n\t\t\t\tlight.position.set(50*i-10, 60, 70*j-10);\n\t\t\t\tgroup.add(pointLightHelper)\n\t\t\t\tgroup.add(light)\n\t\t\t}\n\t\t}\n\t\t\t/*const light = new THREE.PointLight( 0x404040, 1 );\n\t\t\t\tlight.position.set(750, 100, 750);\n\t\t\t\tgroup.add(light)*/\n\t\treturn group;\n\t},\n\tcreateDirectionalLight () {\n\t\t/*const light = new DirectionalLight( 0xffffff, 3 );\n\t\tlight.position.set(0, 500, 0 );\n\t\t//light.rotation.set(Math.PI/2, 0,0)\n\t\tlight.castShadow = true;\n\t\t//light.shadow.mapSize.width = 1024;\n\t\t//light.shadow.mapSize.height = 512;\n\t\t//light.shadow.camera.near = 100;\n\t\t//light.shadow.camera.far = 1200;\n\n\t\t//light.shadow.camera.left = - 1000;\n\t\t//light.shadow.camera.right = 1000;\n\t\t//light.shadow.camera.top = 350;\n\t\t//light.shadow.camera.bottom = - 350;\n\t\t//const helper = new DirectionalLightHelper( light, 5 );\n\t\tconst group = new Group();\n\t\t//group.add(helper);\n\t\tgroup.add(light)*/\n\n\t\tconst light = new HemisphereLight( 0xffffbb, 0x7c593d, 4 );\n\t\tlight.position.set(1500,500,1500)\n\n\t\treturn light;\n\t}\n\n\t\n}","import Scene from '@/engine/Scene.js'\nimport Light from '@/engine/Light.js'\n\nexport default {\n\tstate: () => ({\n\t\tscene: null\n\t}),\n\tmutations: {\n\t\tsetScene(state) {\n\t\t\tstate.scene = Scene.createScene();\n\t\t},\n\t\taddToScene(state, payload) {\n\t\t\tstate.scene.add(payload)\n\t\t},\n\t\tclearScene(state) {\n\t\t\tstate.scene.clear()\n\t\t}\n\t},\n\tactions: {\n\t\tinitSceneAction({commit, dispatch, getters}) {\n\t\t\tcommit('setScene');\n\t\t\t//commit('addToScene', Light.createDirectionalLight());\n\t\t\tcommit('addToScene', Light.createPointGridLight());\n\t\t\tcommit('addToScene', getters.hero)\n\t\t\tdispatch('buildMapAction')\n\t\t},\n\t\taddToSceneAction({commit}, payload) {\n\t\t\tcommit('addToScene', payload);\n\t\t},\n\t\taddToSceneLightAction({commit}) {\n\t\t\tcommit('addToScene', Light.createPointGridLight());\n\t\t},\n\t\taddHeroToSceneAction({commit, getters}) {\n\t\t\tcommit('addToScene', getters.hero)\n\t\t\t\n\t\t},\n\t\tclearSceneAction({commit}) {\n\t\t\tcommit('clearScene');\n\t\t}\n\t},\n\tgetters: {\n\t\tscene (store) {\n\t\t\treturn store.scene\n\t\t},\n\t}\n}","//import Camera from '@/engine/Camera.js'\n\nexport default {\n\tstate: () => ({\n\t\tcameraControls: null,\n\t}),\n\tmutations: {\n\t\tsetCameraControls (state, payload) {\n\t\t\tstate.cameraControls = payload;\n\t\t}\n\t},\n\tactions: {\n\t\tinitCameraControlsAction({/*commit, getters,*/ dispatch}) {\n\t\t\t//commit('setCameraControls', \n\t\t\t\t//Camera.createControls( getters.camera, getters.renderer.getDomElenent()));\n\t\t\tdispatch('initSceneAction');\n\t\t}\n\t},\n\tgetters: {\n\t\tcameraControls (store) {\n\t\t\treturn store.cameraControls\n\t\t},\n\t}\n}","export default {\n\tstate: () => ({\n\t\tnewMapDialogVisible: false,\n\t\tsaveMapDialogVisible: false,\n\t\tsaveMapDialogResolver: '',\n\t\tyesNoDialogVisible: false,\n\t\tyesNoDialogQuestion: '',\n\t\tyesNoDialogResolver: '',\n\t\tlastOpenDialog: '',\n\t}),\n\tmutations: {\n\t\tsetNewMapDialogVisible(state, payload) {\n\t\t\tstate.newMapDialogVisible = payload\n\t\t},\n\t\tsetSaveMapDialogVisible(state, payload) {\n\t\t\tstate.saveMapDialogVisible = payload\n\t\t},\n\t\tsetSaveMapDialogState(state, payload) {\n\t\t\tif (state.newMapDialogVisible) {\n\t\t\t\tstate.lastOpenDialog = \"newMapDialogVisible\";\n\t\t\t\tstate.newMapDialogVisible = false;\n\t\t\t}\n\t\t\tstate.saveMapDialogVisible = true;\n\t\t\tstate.saveMapDialogResolver = payload;\n\t\t},\n\t\tsetYesNoDialogState(state, payload) {\n\t\t\tif (state.newMapDialogVisible) {\n\t\t\t\tstate.lastOpenDialog = \"newMapDialogVisible\";\n\t\t\t\tstate.newMapDialogVisible = false;\n\t\t\t}\n\t\t\tstate.yesNoDialogVisible = true;\n\t\t\tstate.yesNoDialogQuestion = payload.question;\n\t\t\tstate.yesNoDialogResolver = payload.resolve;\n\t\t},\n\t\tclearSaveMapDialogState(state) {\n\t\t\tstate.saveMapDialogVisible = false;\n\t\t\tstate.saveMapDialogResolver = '';\n\n\t\t\tif (state.lastOpenDialog)\n\t\t\t\tstate[state.lastOpenDialog] = true;\n\t\t},\n\t\tclearYesNoDialogState(state) {\n\t\t\tstate.yesNoDialogVisible = false;\n\t\t\tstate.yesNoDialogQuestion = '';\n\t\t\tstate.yesNoDialogResolver = '';\n\n\t\t\tif(state.lastOpenDialog)\n\t\t\tstate[state.lastOpenDialog] = true;\n\t\t}\n\t},\n\tactions: {\n\t\ttoggleNewMapDialogAction({commit, getters}) {\n\t\t\tcommit('setNewMapDialogVisible', !getters.newMapDialogVisible);\n\t\t},\n\t\tcloseNewMapDialogVisible ({commit}) {\n\t\t\tcommit('setNewMapDialogVisible', false)\n\t\t},\n\t\tinitSaveMapAction({commit}) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tcommit('setSaveMapDialogState', resolve);\n\t\t\t})\n\t\t},\n\t\tsaveMapDialogAction({commit, state}) {\n\t\t\tconst resolve = state.saveMapDialogResolver;\n\t\t\tcommit('clearSaveMapDialogState');\n\t\t\tresolve();\n\t\t},\n\t\tcloseSaveMapDialog ({commit}) {\n\t\t\tcommit('setSaveMapDialogVisible', false);\n\t\t},\n\t\tinitYesNoDialog({commit}, payload) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tpayload.resolve = resolve;\n\t\t\t\tcommit(\"setYesNoDialogState\", payload);\n\t\t\t})\n\t\t},\n\t\tyesNoDialogAction({commit, state}, payload) {\n\t\t\tconst resolve = state.yesNoDialogResolver;\n\t\t\tcommit('clearYesNoDialogState');\n\t\t\tresolve(payload);\n\t\t},\n\t\topenMapDialogAction({dispatch}) {\n\t\t\tconst el = document.createElement('input');\n\t\t\tel.setAttribute(\"type\", \"file\");\n\n\t\t\tel.click();\n\t\t\tel.addEventListener(\"input\", (event) => {\n\t\t\t\tevent.target.files[0].text()\n\t\t\t\t.then(json => {\n\t\t\t\t\tdispatch('clearSceneAction');\n\t\t\t\t\tdispatch('destroyMapAction');\n\t\t\t\t\tdispatch('addToSceneLightAction');\n\t\t\t\t\tdispatch('buildMapFromJSONAction', JSON.parse(json))\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t},\n\tgetters: {\n\t\tnewMapDialogVisible (store) {\n\t\t\treturn store.newMapDialogVisible\n\t\t},\n\t\tsaveMapDialogVisible (store) {\n\t\t\treturn store.saveMapDialogVisible\n\t\t},\n\t\tyesNoDialogVisible (store) {\n\t\t\treturn store.yesNoDialogVisible\n\t\t},\n\t\tyesNoDialogQuestion (store) {\n\t\t\treturn store.yesNoDialogQuestion\n\t\t}\n\t}\n}","import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js'\n\nexport default { \n\tload(link, callback, progressCallback) {\n\t\tconst loader = new GLTFLoader();\n\t\tloader.loadAsync(link, progressCallback)\n\t\t.then (( glb ) => {\n\t\t\tconst object = glb.scene\n\t\t\tif (glb.animations)\n\t\t\t\tobject.children[0].animations = glb.animations;\n\t\t\tobject.scale.set(10,10,10)\n\t\t\tobject.position.set(0,0.0,0)\n\t\t\tcallback(object);\n\t\t})\n\t}\n}","const CELL_TYPE_GRASS = \"grass\"\nconst CELL_TYPE_STONE = \"stone\"\nconst CELL_TYPE_TILE = \"tile\"\nconst CELL_TYPE_GROUND = \"ground\"\nconst CELL_TYPE_MIDSTONE = \"midStone\"\nconst CELL_TYPE_BUSHES = \"bushes\"\nconst CELL_TYPE_MOUNTAIN = \"mountain\"\nconst CELL_TYPE_TREES = \"trees\"\nconst CELL_TYPE_HOUSE = \"house\"\nconst CELL_TYPE_OFFICE = \"office\"\nconst CELL_TYPE_SCHOOL = \"school\"\nconst CELL_TYPE_MARKET = \"market\"\n\nconst HERO_TYPE = \"hero\"\n\nconst MODEL_PATHS = {}\nMODEL_PATHS[CELL_TYPE_GRASS] = require(\"../assets/resourses/map/grass.glb\")\nMODEL_PATHS[CELL_TYPE_STONE] = require(\"../assets/resourses/map/stones.glb\")\nMODEL_PATHS[CELL_TYPE_TILE] = require(\"../assets/resourses/map/tile.glb\")\nMODEL_PATHS[CELL_TYPE_GROUND] = require(\"../assets/resourses/map/ground.glb\")\nMODEL_PATHS[CELL_TYPE_MIDSTONE] = require(\"../assets/resourses/map/mid_stones.glb\")\nMODEL_PATHS[CELL_TYPE_BUSHES] = require(\"../assets/resourses/map/bushes.glb\")\nMODEL_PATHS[CELL_TYPE_MOUNTAIN] = require(\"../assets/resourses/map/mountain.glb\")\nMODEL_PATHS[CELL_TYPE_TREES] = require(\"../assets/resourses/map/trees.glb\")\nMODEL_PATHS[CELL_TYPE_HOUSE] = require(\"../assets/resourses/map/house.glb\")\nMODEL_PATHS[CELL_TYPE_OFFICE] = require(\"../assets/resourses/map/office.glb\")\nMODEL_PATHS[CELL_TYPE_SCHOOL] = require(\"../assets/resourses/map/school.glb\")\nMODEL_PATHS[CELL_TYPE_MARKET] = require(\"../assets/resourses/map/market.glb\")\n\nconst HERO_TYPE_PATH = require(\"../assets/resourses/hero.glb\")\n\nfunction getRandomCellType () {\n\treturn [\n\t\tCELL_TYPE_GRASS,\n\t\tCELL_TYPE_STONE,\n\t\tCELL_TYPE_TILE,\n\t\tCELL_TYPE_GROUND,\n\t\tCELL_TYPE_MIDSTONE,\n\t\tCELL_TYPE_BUSHES,\n\t\tCELL_TYPE_MOUNTAIN,\n\t\tCELL_TYPE_TREES\n\t][Math.round(Math.random()*7)]\n}\n\nconst CELL_TYPE_ARRAY = [\n\tCELL_TYPE_GRASS,\n\tCELL_TYPE_STONE,\n\tCELL_TYPE_TILE,\n\tCELL_TYPE_GROUND,\n\tCELL_TYPE_MIDSTONE,\n\tCELL_TYPE_BUSHES,\n\tCELL_TYPE_MOUNTAIN,\n\tCELL_TYPE_TREES,\n\tCELL_TYPE_OFFICE,\n\tCELL_TYPE_HOUSE,\n\tCELL_TYPE_SCHOOL,\n\tCELL_TYPE_MARKET,\n]\n\nexport {\n\tHERO_TYPE_PATH,\n\tHERO_TYPE,\n\tCELL_TYPE_ARRAY,\n\tCELL_TYPE_GRASS,\n\tCELL_TYPE_STONE,\n\tCELL_TYPE_TILE,\n\tCELL_TYPE_GROUND,\n\tCELL_TYPE_MIDSTONE,\n\tCELL_TYPE_BUSHES,\n\tCELL_TYPE_MOUNTAIN,\n\tCELL_TYPE_TREES,\n\tMODEL_PATHS,\n\tgetRandomCellType\n}\n","import loader from '@/engine/ModelsLoader.js'\nimport * as MD from '@/engine/ModelsData.js'\n\nexport default {\n\tstate: () => ({\n\t\tmodels:{},\n\t\tloaded: 0,\n\t\thero: null,\n\t\tvisible: true,\n\t\tprogress: 0,\n\t}),\n\tmutations: {\n\t\tsetModel(state, {name, value}) {\n\t\t\tstate.models[name] = value;\n\t\t\tstate.loaded++;\n\t\t\tstate.progress = state.loaded/13*100\n\t\t},\n\t\tsetHero(state, payload) {\n\t\t\tstate.hero = payload\n\t\t\tstate.loaded++;\n\t\t\tstate.progress = 100\n\t\t},\n\t\tsetVisible(state, payload) {\n\t\t\tstate.visible = payload;\n\t\t},\n\t},\n\tactions: {\n\t\tloadMaterials({commit, dispatch, state}) {\n\t\t\treturn new Promise (resolve => {\n\t\t\t\tfor (let key in MD.MODEL_PATHS) {\n\t\t\t\t\tloader.load(\n\t\t\t\t\t\tMD.MODEL_PATHS[key], // ссылка\n\t\t\t\t\t\t(object) => { // обработчик\n\t\t\t\t\t\t\t// добавляем модель\n\t\t\t\t\t\t\tcommit('setModel', {name:key, value:object});\n\t\t\t\t\t\t\t// если все модели уже загружены\n\t\t\t\t\t\t\tif (state.loaded == 12) {\n\t\t\t\t\t\t\t\t// загружаем модель героя\n\t\t\t\t\t\t\t\tloader.load(MD.HERO_TYPE_PATH, (object) => {\n\n\t\t\t\t\t\t\t\t\tobject.scale.set(2,2,2)\n\t\t\t\t\t\t\t\t\tobject.position.set(43.5,0, 45)\n\t\t\t\t\t\t\t\t\tobject.coord = {\n\t\t\t\t\t\t\t\t\t\tx:3,\n\t\t\t\t\t\t\t\t\t\ty:3,\n\t\t\t\t\t\t\t\t\t\tside: 1,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tobject.rotation.set(0,Math.PI/6,0)\n\n\t\t\t\t\t\t\t\t\tcommit('setHero', object)\n\t\t\t\t\t\t\t\t\tcommit('setVisible', false)\n\t\t\t\t\t\t\t\t\tdispatch('initRendererAction')\n\n\t\t\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n\tgetters: {\n\t\tgetModelByName (store) {\n\t\t\treturn (name) => {\n\t\t\t\treturn store.models[name]\n\t\t\t}\n\t\t},\n\t\thero(store) {\n\t\t\treturn store.hero\n\t\t},\n\t\tloaderVisible(state) {\n\t\t\treturn state.visible\n\t\t},\n\t\tloaderProgress(state) {\n\t\t\treturn state.progress\n\t\t},\n\t}\n}","\n\nexport default {\n\tstate: () => ({\n\t\t\n\t}),\n\tmutations: {\n\t\t\n\t},\n\tactions: {\n\t\t\n\t},\n\tgetters: {\n\t\t\n\t}\n}","import file from '../assets/card.json';\n\nexport default {\n\tstate: () => ({\n\t\tcells: file.cells,\n\t\tmapSize: file.mapSize,\n\t\theroCoords: {\n\t\t\tx: 4,\n\t\t\ty: 4,\n\t\t\ttheta: 0,\n\t\t}\n\t}),\n\tmutations: {\n\t\t\n\t},\n\tactions: {\n\t\t\n\t},\n\tgetters: {\n\t\tgetFromMapFile(state) {\n\t\t\treturn (key) => state[key]; \n\t\t},\n\t}\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport Map from './map.js'\nimport Engine from './engine.js'\nimport Camera from './camera.js'\nimport Scene from './scene.js'\nimport CameraControls from './cameraControls.js'\nimport ModalDialog from './modalDialog.js'\nimport Materials from './material.js'\nimport Hero from './hero.js'\nimport File from './file.js'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n\tmodules: {\n\t\tMap,\n\t\tEngine,\n\t\tCamera,\n\t\tScene,\n\t\tCameraControls,\n\t\tModalDialog,\n\t\tMaterials,\n\t\tHero,\n\t\tFile,\n\t}\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store'\n\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"b02610a0146e6b1029d0973d3d005492.glb\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./World.vue?vue&type=style&index=0&id=72f8f4f7&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"4972642558e527315e98542a67994e22.glb\";","module.exports = __webpack_public_path__ + \"ac1e04bf377e65105815b1f9cbac9cbf.glb\";","module.exports = __webpack_public_path__ + \"518b5a7d453b98793da25e07ad757522.glb\";","module.exports = __webpack_public_path__ + \"26b139bccd31d549ed286575e5520626.glb\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Logo.vue?vue&type=style&index=0&id=06aeb5f4&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"ff09910a17edc7a5ef6477a082f1c0f7.glb\";","module.exports = __webpack_public_path__ + \"6dad82c5b70dfff6d47c12272dbe6fae.glb\";","module.exports = __webpack_public_path__ + \"f6d268703fac1dbbd6c367dfe69cd6f1.glb\";"],"sourceRoot":""}